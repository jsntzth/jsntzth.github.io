---
# Only the main Sass file needs front matter (the dashes are enough)
search: false
---

@charset "utf-8";

// 导入主题核心样式（确保先加载主题基础样式）
@import "minimal-mistakes/skins/{{ site.minimal_mistakes_skin | default: 'default' }}";
@import "minimal-mistakes";

// ------------------------------
// 1. 导航栏布局修复（核心解决位置错乱）
// ------------------------------
.masthead {
  // 清除默认内外边距，避免布局偏移
  margin: 0;
  padding: 0;

  .wrap {
    display: flex !important;          // 强制水平布局
    justify-content: space-between !important; // 标题左，菜单右
    align-items: center !important;    // 垂直居中对齐
    flex-wrap: wrap !important;        // 小屏幕自动换行
    padding: 0.8rem 5% !important;     // 左右留5%间距，避免贴边
    max-width: 1400px !important;      // 限制最大宽度，宽屏不分散
    margin: 0 auto !important;         // 容器水平居中
  }

  // 博客标题样式优化
  .site-title {
    margin: 0 !important;              // 清除默认外边距
    padding: 0 !important;
    font-size: 1.5rem !important;      // 适当调整标题大小
  }

  // 主导航菜单
  .main-nav {
    ul {
      display: flex !important;        // 菜单水平排列
      list-style: none !important;     // 清除列表圆点
      margin: 0 !important;            // 清除默认外边距
      padding: 0 !important;           // 清除默认内边距
      gap: 1.5rem !important;          // 菜单项间距
    }

    a {
      text-decoration: none !important; // 清除下划线
      color: inherit !important;        // 继承主题文字色
      padding: 0.3rem 0 !important;
      font-size: 0.95rem !important;
      transition: color 0.2s ease !important;

      &:hover {
        color: #4299e1 !important;      // 统一hover颜色（蓝色）
      }
    }
  }

  // 移除重复标题和Quick-Start Guide的残留样式
  .hidden-links {
    display: none !important;          // 彻底隐藏不需要的链接
  }
}

// ------------------------------
// 2. 主题切换器样式
// ------------------------------
.theme-switcher-container {
  position: relative;
  display: inline-block;
  margin-left: 1rem;

  .theme-switcher-btn {
    background: transparent;
    border: none;
    color: inherit;
    font-size: 0.9rem;
    cursor: pointer;
    padding: 0.5rem 0.8rem;
    border-radius: 4px;
    transition: background 0.3s ease;

    &:hover {
      background: rgba(0, 0, 0, 0.1);
    }
  }

  .theme-options {
    position: absolute;
    top: 100%;
    right: 0;
    background: #fff;
    border: 1px solid #eee;
    border-radius: 4px;
    list-style: none;
    margin: 0;
    padding: 0.5rem 0;
    min-width: 120px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    z-index: 999;

    li {
      padding: 0.5rem 1rem;
      cursor: pointer;
      transition: background 0.2s ease;

      &:hover {
        background: #f7f7f7;
      }
    }
  }
}

// ------------------------------
// 3. 主题样式定义（四种主题）
// ------------------------------
body {
  // 普通浅色
  &.theme-light {
    background-color: #fff !important;
    color: #2d3748 !important;

    .theme-switcher-btn:hover {
      background: rgba(0, 0, 0, 0.1) !important;
    }

    .theme-options {
      background: #fff !important;
      border-color: #eee !important;

      li {
        color: #2d3748 !important;

        &:hover {
          background: #f7f7f7 !important;
        }
      }
    }
  }

  // 普通深色
  &.theme-dark {
    background-color: #1a202c !important;
    color: #f0f0f0 !important;

    .theme-switcher-btn:hover {
      background: rgba(255, 255, 255, 0.1) !important;
    }

    .theme-options {
      background: #2d3748 !important;
      border-color: #4a5568 !important;

      li {
        color: #f0f0f0 !important;

        &:hover {
          background: #4a5568 !important;
        }
      }
    }
  }

  // 带图浅色
  &.theme-light-img {
    background-color: #fff !important;
    background-image: url("{{ 'https://youke1.picui.cn/s1/2025/08/18/68a2dcb6a903e.png' | relative_url }}") !important;
    background-repeat: repeat !important;
    color: #2d3748 !important;

    .theme-switcher-btn:hover {
      background: rgba(0, 0, 0, 0.1) !important;
    }

    .theme-options {
      background: #fff !important;
      border-color: #eee !important;

      li {
        color: #2d3748 !important;

        &:hover {
          background: #f7f7f7 !important;
        }
      }
    }
  }

  // 带图深色
  &.theme-dark-img {
    background-color: #1a202c !important;
    background-image: url("{{ 'https://youke1.picui.cn/s1/2025/08/18/68a2dcb6a903e.png' | relative_url }}") !important;
    background-repeat: repeat !important;
    color: #f0f0f0 !important;

    .theme-switcher-btn:hover {
      background: rgba(255, 255, 255, 0.1) !important;
    }

    .theme-options {
      background: #2d3748 !important;
      border-color: #4a5568 !important;

      li {
        color: #f0f0f0 !important;

        &:hover {
          background: #4a5568 !important;
        }
      }
    }
  }
}

// ------------------------------
// 4. 代码块样式适配
// ------------------------------
.highlighter-rouge {
  padding: 1rem !important;
  border-radius: 4px !important;
  overflow-x: auto !important; // 长代码横向滚动

  body.theme-light &,
  body.theme-light-img & {
    background-color: #f7f7f7 !important;
    color: #2d3748 !important;
  }

  body.theme-dark &,
  body.theme-dark-img & {
    background-color: #2d3748 !important;
    color: #f0f0f0 !important;
  }
}

// ------------------------------
// 5. 响应式适配（手机/平板）
// ------------------------------
@media (max-width: 768px) {
  .masthead .wrap {
    flex-direction: column !important; // 垂直排列
    text-align: center !important;     // 文字居中
    padding: 0.8rem 3% !important;     // 缩小左右间距
  }

  .main-nav ul {
    margin-top: 0.8rem !important;     // 菜单与标题间距
    gap: 1rem !important;              // 缩小菜单项间距
    justify-content: center !important; // 菜单居中
  }

  .theme-switcher-container {
    margin: 0.8rem 0 0 0 !important;   // 主题切换器居中
  }
}

// 隐藏所有不需要的元素（包括残留的Quick-Start Guide）
.quick-start-guide,
.hidden-links,
.masthead__menu-item--external {
  display: none !important;
}
