---
search: false
---

@charset "utf-8";

// 导入主题核心样式
@import "minimal-mistakes/skins/default";
@import "minimal-mistakes";

// 1. 导航栏核心修复（解决换行问题）
.masthead {
  .wrap {
    display: flex !important;
    flex-direction: row !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 0.8rem 5% !important;
    max-width: 1400px !important;
    margin: 0 auto !important;
    gap: 1rem !important;
    white-space: nowrap !important; /* 关键：防止容器内元素换行 */
  }

  // 博客标题
  .site-title {
    margin: 0 !important;
    padding: 0 !important;
    font-size: 1.4rem !important;
    flex-shrink: 0 !important; /* 不缩小 */
  }

  // 主导航菜单（解决换行）
  .main-nav {
    flex-grow: 0 !important; /* 不自动扩展 */
    margin: 0 1rem !important;

    ul {
      display: flex !important;
      list-style: none !important;
      margin: 0 !important;
      padding: 0 !important;
      gap: 1rem !important; /* 减小间距防止换行 */
      flex-wrap: nowrap !important; /* 关键：菜单项不换行 */
    }

    a {
      text-decoration: none !important;
      color: inherit !important;
      font-size: 0.9rem !important; /* 缩小字体防止换行 */
      padding: 0.2rem 0 !important;
    }
  }

  // 主题切换器
  .theme-switcher-container {
    flex-shrink: 0 !important; /* 不缩小 */
  }

  // 隐藏不需要的元素
  .hidden-links, .masthead__menu-item--external {
    display: none !important;
  }
}

// 2. 主题切换器样式（确保可点击）
.theme-switcher-container {
  position: relative;

  .theme-switcher-btn {
    background: transparent;
    border: 1px solid currentColor !important;
    color: inherit !important;
    font-size: 0.85rem !important;
    cursor: pointer !important;
    padding: 0.2rem 0.6rem !important;
    border-radius: 3px !important;
    transition: all 0.3s ease !important;
    display: inline-block !important; /* 确保按钮可点击 */
  }

  .theme-options {
    position: absolute !important;
    top: 100% !important;
    right: 0 !important;
    background: #fff !important;
    border: 1px solid #ddd !important;
    border-radius: 3px !important;
    list-style: none !important;
    margin: 0.1rem 0 0 0 !important;
    padding: 0 !important;
    min-width: 110px !important;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1) !important;
    z-index: 9999 !important;
    display: none !important;

    li {
      padding: 0.4rem 0.8rem !important;
      cursor: pointer !important;
      margin: 0 !important;

      &:hover {
        background: #f5f5f5 !important;
      }
    }
  }

  &.active .theme-options {
    display: block !important;
  }
}

// 3. 主题样式（修复背景图）
body {
  background-color: #fff !important;
  color: #333 !important;
  transition: all 0.3s ease !important;

  // 普通浅色
  &.theme-light {
    background-color: #fff !important;
    color: #333 !important;
  }

  // 普通深色
  &.theme-dark {
    background-color: #1a1a1a !important;
    color: #e0e0e0 !important;

    .theme-options {
      background: #2d2d2d !important;
      border-color: #444 !important;
    }
  }

  // 带图浅色（重点修复背景图）
  &.theme-light-img {
    background-color: #fff !important;
    // 直接使用图片URL，不通过Jekyll变量，确保路径正确
    background-image: url("https://youke1.picui.cn/s1/2025/08/18/68a2dcb6a903e.png") !important;
    background-repeat: repeat !important;
    background-attachment: scroll !important;
    background-size: auto !important;
    color: #333 !important;
  }

  // 带图深色
  &.theme-dark-img {
    background-color: #1a1a1a !important;
    background-image: url("https://youke1.picui.cn/s1/2025/08/18/68a2dcb6a903e.png") !important;
    background-repeat: repeat !important;
    background-attachment: scroll !important;
    background-size: auto !important;
    color: #e0e0e0 !important;

    .theme-options {
      background: #2d2d2d !important;
      border-color: #444 !important;
    }
  }
}

// 4. 内容区域透明（确保背景图可见）
.page, .page__inner-wrap, .site, .main-content {
  background-color: transparent !important;
  background-image: none !important;
}

// 5. 代码块适配
.highlighter-rouge {
  padding: 0.8rem !important;
  border-radius: 3px !important;

  body.theme-light &,
  body.theme-light-img & {
    background-color: #f5f5f5 !important;
  }

  body.theme-dark &,
  body.theme-dark-img & {
    background-color: #2d2d2d !important;
  }
}

// 6. 响应式调整（小屏幕适配）
@media (max-width: 768px) {
  .masthead .wrap {
    flex-direction: column !important;
    white-space: normal !important;
    gap: 0.5rem !important;
    padding: 0.5rem 3% !important;
  }

  .main-nav ul {
    gap: 0.8rem !important;
    justify-content: center !important;
    flex-wrap: wrap !important; /* 小屏幕允许换行 */
  }
}
