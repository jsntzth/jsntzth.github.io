---
search: false
---

@charset "utf-8";

// 导入主题核心样式（先加载主题默认样式）
@import "minimal-mistakes/skins/default";  // 强制使用默认皮肤，避免深色冲突
@import "minimal-mistakes";

// ------------------------------
// 1. 导航栏核心修复（确保顺序：博客标题 → 菜单 → 主题按钮）
// ------------------------------
.masthead {
  .wrap {
    display: flex !important;
    flex-direction: row !important;  // 强制水平排列
    justify-content: flex-start !important;  // 从左侧开始排列
    align-items: center !important;
    padding: 0.8rem 5% !important;
    max-width: 1400px !important;
    margin: 0 auto !important;
    gap: 2rem !important;  // 标题与菜单之间的间距
  }

  // 博客标题（强制排在最左侧）
  .site-title {
    order: 1 !important;  // 排序第1
    margin: 0 !important;
    padding: 0 !important;
    font-size: 1.5rem !important;
    white-space: nowrap !important;  // 标题不换行
  }

  // 主导航菜单（排在标题右侧）
  .main-nav {
    order: 2 !important;  // 排序第2
    flex-grow: 1 !important;  // 占据中间空间

    ul {
      display: flex !important;
      list-style: none !important;
      margin: 0 !important;
      padding: 0 !important;
      gap: 1.5rem !important;
    }

    a {
      text-decoration: none !important;
      color: inherit !important;
      font-size: 0.95rem !important;
    }
  }

  // 主题切换器（排在最右侧）
  .theme-switcher-container {
    order: 3 !important;  // 排序第3
    margin: 0 !important;  // 清除默认边距
    white-space: nowrap !important;
  }

  // 彻底隐藏不需要的元素
  .hidden-links, .masthead__menu-item--external {
    display: none !important;
  }
}

// ------------------------------
// 2. 主题切换器样式
// ------------------------------
.theme-switcher-container {
  position: relative;

  .theme-switcher-btn {
    background: transparent;
    border: 1px solid currentColor;  // 显示边框，确保可见
    color: inherit;
    font-size: 0.9rem;
    cursor: pointer;
    padding: 0.3rem 0.8rem;
    border-radius: 4px;
    transition: all 0.3s ease;
  }

  .theme-options {
    position: absolute;
    top: 100%;
    right: 0;
    background: #fff;
    border: 1px solid #eee;
    border-radius: 4px;
    list-style: none;
    margin: 0;
    padding: 0;
    min-width: 120px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    z-index: 999;
    display: none;  // 默认隐藏

    li {
      padding: 0.5rem 1rem;
      cursor: pointer;
      margin: 0;

      &:hover {
        background: #f0f0f0;
      }
    }
  }

  // 选项面板显示状态
  &.active .theme-options {
    display: block !important;
  }
}

// ------------------------------
// 3. 主题颜色样式（覆盖默认皮肤）
// ------------------------------
// 基础样式重置（清除默认深色影响）
body {
  background-color: #fff !important;
  color: #333 !important;
  transition: all 0.3s ease !important;
}

// 浅色主题（默认）
body.theme-light {
  background-color: #fff !important;
  color: #333 !important;
}

// 深色主题
body.theme-dark {
  background-color: #121212 !important;
  color: #e0e0e0 !important;

  // 深色模式下的链接和边框
  a {
    color: #bb86fc !important;
  }
  .theme-options {
    background: #1e1e1e !important;
    border-color: #333 !important;

    li {
      color: #e0e0e0 !important;
      &:hover {
        background: #333 !important;
      }
    }
  }
}

// 带图浅色
body.theme-light-img {
  background-color: #fff !important;
  background-image: url("{{ 'https://youke1.picui.cn/s1/2025/08/18/68a2dcb6a903e.png' | relative_url }}") !important;
  background-repeat: repeat !important;
  color: #333 !important;
}

// 带图深色
body.theme-dark-img {
  background-color: #121212 !important;
  background-image: url("{{ 'https://youke1.picui.cn/s1/2025/08/18/68a2dcb6a903e.png' | relative_url }}") !important;
  background-repeat: repeat !important;
  color: #e0e0e0 !important;

  a {
    color: #bb86fc !important;
  }
  .theme-options {
    background: #1e1e1e !important;
    border-color: #333 !important;

    li {
      color: #e0e0e0 !important;
      &:hover {
        background: #333 !important;
      }
    }
  }
}

// ------------------------------
// 4. 响应式适配（手机端）
// ------------------------------
@media (max-width: 768px) {
  .masthead .wrap {
    flex-direction: column !important;  // 垂直排列
    gap: 0.8rem !important;
    text-align: center !important;
  }

  .site-title, .main-nav, .theme-switcher-container {
    order: initial !important;  // 恢复默认顺序
    width: 100% !important;
  }

  .main-nav ul {
    justify-content: center !important;
    flex-wrap: wrap !important;
  }
}
