<header class="masthead" role="banner">
  <div class="wrap">
    <!-- 核心样式 - 确保系统导航栏被移除且布局正确 -->
    <style>
      /* 完全隐藏系统导航栏 */
      .system-nav, .original-masthead {
        display: none !important;
      }
      
      /* 主容器 - Logo居左，导航项居右 */
      .custom-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
      }
      
      /* Logo样式 - 调整大小 */
      .logo-container {
        display: flex;
        align-items: center;
        gap: 0.8rem;
      }
      
      .logo-image {
        width: 40px;  /* 调整logo大小 */
        height: 40px;
        border-radius: 50%; /* 圆形logo */
      }
      
      .logo-text {
        font-size: 1.3rem;
        font-weight: bold;
        text-decoration: none;
      }
      
      /* 导航项横向排列 */
      .main-nav ul {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: nowrap !important;
        list-style: none !important;
        margin: 0 !important;
        padding: 0 !important;
        gap: 1.5rem !important;
        align-items: center !important;
      }
      
      .main-nav li {
        margin: 0 !important;
        padding: 0 !important;
      }
      
      .main-nav a {
        text-decoration: none !important;
        display: inline-flex !important;
        align-items: center !important;
        gap: 0.3rem !important;
      }
      
      /* 按钮样式 */
      .theme-switcher-btn, .search__toggle {
        display: inline-flex !important;
        align-items: center !important;
        gap: 0.3rem !important;
        background: transparent !important;
        border: none !important;
        cursor: pointer !important;
        font-size: 1rem !important;
        color: inherit !important;
      }
      
      /* 确保所有图标正常显示的关键样式 */
      [class^="fa-"]:before, [class*=" fa-"]:before {
        font-family: "FontAwesome" !important;
        font-style: normal !important;
        font-weight: normal !important;
      }
    </style>

    <div class="custom-header">
      <!-- Logo区域（图片+文字） -->
      <div class="logo-container">
        <img src="https://cdn.luogu.com.cn/upload/image_hosting/uhiclg5g.png" 
             alt="博客Logo" class="logo-image">
        <a href="{{ '/' | relative_url }}" class="logo-text">jsntzth 的博客</a>
      </div>
      
      <!-- 导航菜单 -->
      <nav class="main-nav" role="navigation">
        <ul>
          <li><a href="{{ '/' | relative_url }}"><i class="fa fa-home"></i> 首页</a></li>
          <li><a href="{{ '/categories/' | relative_url }}"><i class="fa fa-folder"></i> 分类</a></li>
          <li><a href="{{ '/tags/' | relative_url }}"><i class="fa fa-tags"></i> 标签</a></li>
          <li><a href="{{ '/friends/' | relative_url }}"><i class="fa fa-link"></i> 友链</a></li>
          <li><a href="{{ '/about/' | relative_url }}"><i class="fa fa-user"></i> 关于</a></li>
          
          <!-- 主题切换器 -->
          <li class="theme-switcher-item">
            <div class="theme-switcher-container">
              <button class="theme-switcher-btn"><i class="fa fa-paint-brush"></i> 普通深色 ▼</button>
              <ul class="theme-options hidden">
                <li data-theme="light">普通浅色</li>
                <li data-theme="dark">普通深色</li>
                <li data-theme="light-img">带图浅色</li>
                <li data-theme="dark-img">带图深色</li>
              </ul>
            </div>
          </li>
          
          <!-- 搜索图标 -->
          <li>
            <button class="search__toggle" type="button">
              <span class="visually-hidden">切换搜索</span>
              <i class="fa fa-search"></i>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<!-- 页面元数据和资源引入 -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>

<!-- 确保图标库优先加载 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<!-- 主样式表 -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

<!-- 功能脚本 -->
<script src="{{ '/assets/js/theme-switcher.js' | relative_url }}"></script>
<script src="{{ '/assets/js/search.js' | relative_url }}"></script>

<!-- 文章内图标修复样式 -->
<style>
  /* 修复文章内GitHub和Email图标 */
  .post-content .fa-github, .post-content .fa-envelope {
    display: inline-block !important;
    font-family: "FontAwesome" !important;
    margin-right: 0.3rem;
  }
</style>
    
